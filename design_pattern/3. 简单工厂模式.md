# 简单工厂模式

[TOC]

### 1. 概述

>    简单工厂模式(Simple Factory Pattern)：定义一个工厂类，它可以根据参数的不同返回不同类的实例，被创建的实例通常都具有共同的父类。因为在简单工厂模式中用于创建实例的方法是静态(static)方法，因此简单工厂模式又被称为静态工厂方法(Static Factory Method)模式，它属于类创建型模式。
>

- 要点：**当你需要什么，只需要传入一个正确的参数，就可以获取你所需要的对象，而无须知道其创建细节。**
- **具体产品类**：将需要创建的各种不同对象（例如各种不同的Chart对象）的相关代码封装到不同的类中，这些类称为具体产品类
- **抽象产品类**: 将它们公共的代码进行抽象和提取后封装在一个抽象产品类中,每一个具体产品类都是抽象产品类的子类
- **工厂类**：提供一个工厂类用于创建各种产品，在工厂类中提供一个创建产品的工厂方法，该方法可以根据所传入的参数不同创建不同的具体产品对象

### 2. 意图

> 将创建对象与使用对象隔离

### 3. 结构图

![简单工厂模式结构图](D:\_git\java\design_pattern\img\4_简单工厂模式.png)

- **Factory（工厂角色）：**工厂角色即工厂类，它是简单工厂模式的核心，负责实现创建所有产品实例的内部逻辑；工厂类可以被外界直接调用，创建所需的产品对象；在工厂类中提供了静态的工厂方法factoryMethod()，它的返回类型为抽象产品类型Product。
- **Product（抽象产品角色）：**它是工厂类所创建的所有对象的父类，封装了各种产品对象的公有方法，它的引入将提高系统的灵活性，使得在工厂类中只需定义一个通用的工厂方法，因为所有创建的具体产品对象都是其子类对象。
- **ConcreteProduct（具体产品角色）：**它是简单工厂模式的创建目标，所有被创建的对象都充当这个角色的某个具体类的实例。每一个具体产品角色都继承了抽象产品角色，需要实现在抽象产品中声明的抽象方法。

### 4. Java代码实现

```java
/**
 *抽象产品类
 **/
abstract class Product{
    //公共方法
    public void sameMethod(){
        
    }
    //声明抽象方法
    public abstract void diffMethod(); 
}
/**
*具体产品类A
**/
class ConcreateProductA extends product{
    @Overrible
    public void diffMethod(){
		...
    }
}
/**
*具体产品类B
**/
class ConcreateProductB extends product{
    @Overrible
    public void diffMethod(){
		...
    }
}
/**
* 工厂类
**/
class Factory{
    /**
    *根据参数获取产品
    **/
    public static Product getProduct(Integer type){
        Product product = null;
        if(type == 1){
            product = new ConcreateProductA();
        }else if(type == 2){
            product = new ConcreateProductB();
        }
        return Product;
    }
}

```

### 5. 优缺点

**优点**：

- 达到将创建对象与使用对象隔离的目的
-  客户端无须知道所创建的具体产品类的类名，只需要知道具体产品类所对应的参数即可，对于一些复杂的类名，通过简单工厂模式可以在一定程度减少使用者的记忆量。

**缺点**：

- 工厂类集中了所有产品的创建逻辑，职责过重。一旦不能工作，将影响所有产品，这点上不符合单一职责原则。
- 扩展困难，需要添加产品时，必须得修改工厂类源代码。这点上不符合开闭原则。
- 使用简单工厂模式势必会增加系统中类的个数（引入了新的工厂类），增加了系统的复杂度和理解难度。

### 6.适用场景

- 工厂类负责创建的对象比较少，由于创建的对象较少，不会造成工厂方法中的业务逻辑太过复杂。
- 客户端只知道传入工厂类的参数，对于如何创建对象并不关心。

![](D:\_git\java\design_pattern\img\4_简单工厂模式_xmind.png)